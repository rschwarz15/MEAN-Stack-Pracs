<h1>FIT2095 Lab 8 - Car Database</h1>

<div class="lab8form">
  <div class="form-group">
    <label for="item">Maker</label>
    <input type="text" class="form-control" [(ngModel)]="maker">
  </div>

  <div class="form-group">
    <label for="item">Model</label>
    <input type="text" class="form-control" [(ngModel)]="model">
  </div>

  <div class="form-group">
    <label for="item">Body Type</label>
    <select class="form-control" [(ngModel)]="bodyType">
      <option>Bus</option>
      <option>Coupe</option>
      <option>Hatch</option>
      <option>Sedan</option>
      <option>SUV</option>
      <option>Van</option>
      <option>Ute</option>
    </select>
  </div>

  <div class="form-group">
    <label for="item">Year</label>
    <input type="number" class="form-control" [(ngModel)]="year">
  </div>

  <div class="form-row">
    <div class="col">
      <label for="item">Address</label>
      <input type="text" class="form-control" [(ngModel)]="address">
    </div>

    <div class="col">
      <label for="item">State</label>
      <select class="form-control" [(ngModel)]="state">
        <option>ACT</option>
        <option>NSW</option>
        <option>NT</option>
        <option>QLD</option>
        <option>SA</option>
        <option>TAS</option>
        <option>WA</option>
        <option>VIC</option>
      </select>
    </div>

    <div class="col">
      <label for="item">Post Code</label>
      <input type="text" class="form-control" [(ngModel)]="postCode">
    </div>
  </div>
</div>

<div class="lab8form">
  <button class="btn btn-primary" (click)="addCar()">Add Car {{db.length}}</button>
  <button class="btn btn-danger" (click)="deleteOldCars()"  [disabled]="getOldCarCount()==0">Delete Old Cars {{getOldCarCount()}}</button>
</div>

<div class="lab8form">
  <div class="form-group">
    <label for="item">Maker To Delete</label>
    <input type="text" class="form-control" [(ngModel)]="makerToDelete">
  </div>
  <button class="btn btn-danger" (click)="deleteCarsByMaker()" >Delete Cars of Make: {{makerToDelete}}</button>
</div>

<div>
  <table class="table table-striped table-hover">
    <thead class="thead-light">
      <tr>
        <th> # </th>
        <!-- <th> ID </th> -->
        <th> Maker </th>
        <th> Model </th>
        <th> Body Type </th>
        <th> Year </th>
        <th> Address </th>
        <th> Delete? </th>
      </tr>
    </thead>
    <tbody>

      <tr *ngFor="let car of db; let i = index">
        <td>{{i+1}}</td>
        <!-- <td>{{car.id}}</td> -->
        <td>{{car.maker}}</td>
        <td>{{car.model}}</td>
        <td>{{car.bodyType}}</td>
        <td>{{car.year}}</td>
        <td>{{car.address}}, {{car.state}}, {{car.postCode}}</td>
        <td>
          <button class="btn btn-danger" (click)="deleteCarByID(car.id)">X</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
